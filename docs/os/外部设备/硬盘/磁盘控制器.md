# 1. 磁盘控制器

正如我们看到的那样，现代硬盘构造复杂，有多个盘面，这些盘面上有不同的记录区。为了对操作系统隐藏这样的复杂性，现代硬盘将它们的构造呈现为一个简单的视图，**将一个或多个物理扇区作为一个逻辑块。**

**硬盘封装中有一个小的硬件/固件设备，称为磁盘控制器，维护着逻辑块号和实际（物理）硬盘扇区之间的映射关系。**

当操作系统想要执行一个 I/O 操作时，例如读一个硬盘扇区的数据到主存，操作系统会发送一个命令到***磁盘控制器***，让它读某个逻辑号。控制器上的固件执行一个快速表查找，将一个逻辑号翻译成（柱面，磁头，扇区）的三元组，这个三元组唯一地标识了对应的物理扇区。控制器上的硬件会解释这个三元组，将读/写头移动到适当的柱面，等待扇区移动到读/写头下，将读/写头感知到的位放到控制器上的一个小缓冲区中，然后将它们复制到主存中。


### 参考

- 6.1.2 磁盘存储 -《深入理解计算机新系统 - 第3版》
